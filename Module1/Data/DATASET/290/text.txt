Для организации тестирования нам потребуется три
инструмента – Mocha – фреймворк для написания тестов, Chai –
библиотека, содержащая различные функции для проверок кода,
и Karma – инструмент для запуска этих тестов в браузере.
Рассмотрим каждый из этих инструментов подробнее.
Mocha – фреймворк для Node.js, предназначенный для
описания тестов на языке JavaScript, обладающий простым
BDD-синтаксисом и широкими возможностями [1]. Позволяет
проводить асинхронное тестирование и создает окружение для
использования любой предпочитаемой разработчиком assertion
библиотеки.
Chai – assertion библиотека, позволяющая проверять
предположения о значениях произвольных данных в коде [1].
Karma – инструмент для запуска тестов в браузере на
любом доступном устройстве. Легко интегрируется со многими
фреймворками для описания тестов и позволяет управлять
процессом тестирования не только из командной строки, но и
непосредственно из IDE (например, WebStorm от JetBrains).
Для работы потребуется установить следующие npmмодули: mocha, karma, karma-mocha, chai
$ npm install – save-dev mocha
$ npm install – save-dev karma
$ npm install – save-dev karma-mocha
$ npm install – save-dev karma-chai
$ npm install – save-dev karma-chrome-launcher
где karma-mocha – адаптер для интеграции Mocha и
Karma; karma-chrome-launcher – плагин для автоматического
запуска браузера Chrome при запуске тестов (если вы хотите
протестировать ваш код в других браузерах, то вам потребуется
установить соответствующие плагины для их запуска).
Когда все инструменты установлены, необходимо создать
конфигурационный файл для запуска тестов Karma (файл
karma.config.js):
module.exports = function(config) {
 config.set({
 frameworks: ['mocha'],
 browsers: ['Chrome'],
 files: [
 '*.test.js'
 ]
 }); };
где поле frameworks указывает на используемые
фреймворки для тестирования, browsers содержит имена
браузеров, в которых мы хотим протестировать наш код, а files
содержит шаблоны для поиска файлов, которые требуется
запустить при тестировании.
Для примера создадим простейший тест (файл
example.test.js):
describe('Пример тестирования с использованием Mocka и
Karma', function () {
 it('Можно ли так создавать массив', function () {
 expect([1, 2, 3]).toEqual(new Array(1, 2, 3));
 });
});
Тестирование запускается командой из консоли:
$ karma start karma.conf.js
В заключение следует отметить, что в рамках данной
работы был рассмотрен один из вариантов организации
автоматического тестирования кода на языке JavaScript, а также
были выявлены основные проблемы, которые следует учесть
при интеграции тестирования. Целью продолжения работы
является создание сервиса, реализующего возможность
самостоятельного тестирования JavaScript кода пользователя [2].