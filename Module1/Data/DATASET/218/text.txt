Обнаружение сетевых атак является критически важной задачей, 
поскольку без этого компьютерные сети и системы могут оказаться подвержены серьезным угрозам безопасности.
В настоящее время практически во всех системах встроены активные инструменты предотвращения атак, однако только их недостаточно 
поэтому для дополнения используются пассивные средства – сетевые 
средства обнаружения вторжений (например, Snort).
Данные для системы обнаружения вторжений представлены в виде 
последовательности сетевых пакетов. Информация обычно предварительно обрабатываются для дальнейшего анализа, включая агрегирование за определенный интервал времени и нормализацию для выделения 
конкретного набора признаков.
Таким образом, актуальной проблемой является быстрая классификация трафика для обнаружения сетевых атак. Эта проблема может быть 
формализована как бинарная классификация (нормальный или аномальный трафик) или как более сложная многоклассовая проблема 
классификации, когда аномальный трафик, в свою очередь, классифицируется на заранее выбранные группы атак.
Целью работы является изучение методов классификации трафика в 
корпоративных сетях.
В ходе выполнения работы решены следующие задачи:
- описаны общие принципы работы методов, основанных на бэггинге и бустинге;
- проведено экспериментальное исследование выбранных методов;
- по результатам эксперимента выбран лучший алгоритм классификации трафика в корпоративных сетях.
В рамках поставленной задачи рассмотрим основные принципы работы методов, основанных на беггинге и бустинге. Бэггинг – это метод 
ансамблирования (построения композиции) алгоритмов машинного обучения. Он заключается в том, что из исходного набора данных формируется множество случайных подвыборок, и на каждой из них обучается свой классификатор. Затем прогнозы каждого классификатора 
усредняются, например, с помощью голосования большинством, и итоговый прогноз принимается на основе этого усредненного значения. 
Бэггинг позволяет уменьшить разброс поведения алгоритма и повысить 
его устойчивость к шуму. Бустинг – это алгоритм машинного обучения, 
который используется для улучшения точности моделей классификации 
и регрессии. Он основан на построении последовательности слабых моделей и комбинировании их вместе в одну сильную модель. Каждая слабая модель строится на основе ошибок предыдущей модели, тем самым 
уменьшая общую ошибку. В результате бустинг позволяет получить более точные результаты, чем одна сильная модель.
Для обучения моделей обнаружения атак на сетевые ресурсы будет 
использоваться подход с учителем, обучение будет производиться на 
наборах данных CICIDS2017 и CICIDS2018.
Набор данных CICIDS2017 содержит доброкачественные и самые современные распространенные атаки, которые напоминают реальные 
данные (PCAPs). Он также включает в себя результаты анализа сетевого 
трафика с использованием CICFlowMeter с маркированными потоками на 
основе IP-адреса источника и назначения, портов источника и назначения, протоколов и атак (CSV-файлы) [1]. 
Набор данных CSE-CIC-IDS2018 содержит данные о захваченном 
трафике по восьмидесяти признакам, извлеченных с помощью 
CICFlowMeter-V3. Признаки данного датасета аналогичны представленным в таблице 1. Также CIC-IDS2018 содержит временную метку для 
каждого потока [2]. 
Для классификации рассматриваемого набора данных были использованы следующие методы: Extreme Gradient Boosting (XGBoost), градиентный бустинг (GradientBoosting) и Random Forest. 
XGBoost – популярная библиотека машинного обучения, реализующая модель градиентного бустинга, представляющего альтернативу регрессионным методам и нейронным сетям. Он работает путем создания 
множества деревьев решений, каждое из которых учитывает ошибки 
предыдущих деревьев, чтобы корректировать предсказания. XGBoost 
может эффективно работать с большими объемами данных благодаря 
параллельному обучению и оптимизации. Он также автоматически обрабатывает недостающие данные и сохраняет модель в памяти для 
быстрого использования. Одна из особенностей XGBoost – это метод 
функционального градиентного спуска, который обеспечивает высокую 
точность при обучении модели.
Градиентный бустинг – метод машинного обучения, используемый 
для классификации и регрессии. Это ансамбль слабых моделей, обычно 
деревьев решений, обучаемых последовательно с добавлением новых моделей, которые корректируют ошибки предыдущих. Этот процесс 
продолжается до достижения заданного значения ошибки.
Метод случайного леса – это алгоритм машинного обучения, который использует множество решающих деревьев для достижения высокого качества классификации или регрессии. Основная идея этого метода заключается в использовании большого количества решающих деревьев, каждое из которых само по себе может дать низкое качество классификации, но при использовании их всех вместе результатов будет достаточно точный.
В таблице 1 представлены результаты исследования алгоритмов. 
Анализ данной таблицы показывает, что наилучшим алгоритмом является XGBClassifier. Он улучшает результаты GradientBoostingClassifier, на 
базе которого построен.
На рисунке 1 представлена матрица ошибок классификации для алгоритма XGBClassifier. Анализ матрицы позволяет сделать вывод, что 
модель чаще всего классифицирует обычный трафик как атаку.