Анализ тональности, или сентимент-анализ (sentiment analysis), 
представляет собой одно из активно развивающихся направлений в 
области автоматической обработки текстов на естественном языке. 
Он включает в себя класс методов контент-анализа, целью которых 
можно назвать смысловую компрессию информации, содержащейся в тексте. Автоматический анализ тональности широко применяется в таких областях, как компьютерная лингвистика [9], социология [2], политология [9], продуктовая аналитика [6], маркетинг [11], 
психология [13]и цифровая гуманитаристика [4].
Результатом применения методов анализа тональности называют «выявление мнения автора текста по поводу предмета, обсуждаемого в тексте» [1]. По этой причине в фокусе исследований, связанных с задачей автоматического определения сентимента в тексте, оказывается так называемый пользовательский контент (usergenerated content, UGC) – все то, что может содержать мнение людей 
о качестве или отдельных характеристиках какого-либо продукта [12]. Для моделирования пользовательского опыта используются 
данные социальных медиа, среди которых особенно часто анализируются отзывы на товары и услуги. Опубликованные на официальных и/или вторичных сайтах, представленные в виде комментариев 
в социальных сетях, отзывы пользователей помогают компаниям 
принимать решения по улучшению предлагаемого продукта.
Интерес вызывают также и отзывы, оставляемые пользователями на образовательные онлайн-курсы, в ходе обработки которых, как правило, извлекается мнение участников как о процессе и 
результатах обучения, так и об их опыте взаимодействия непосредственно с платформой [8]. Очевидно, что учет мнений пользователей, причем выраженных в текстах отзывов, а не только в виде количественной оценки, которую традиционно предлагают поставить 
курсу по завершении, позволяет разработчикам развивать продукт, 
внося более ориентированные на целевую аудиторию изменения. 
При этом важным кажется не только определение количества позитивных и негативных отзывов, но и выявление конкретных характеристик продукта, которые вызвали соответствующее настроение 
пользователя.
Целью исследования является проведение эксперимента, состоящего в сравнении инструментов анализа тональности для оценки пользовательского опыта с точки зрения его положительности 
или отрицательности применительно к публичным отзывам на онлайн-курсы, размещенные на образовательной платформе Stepik 
(https://stepik.org). При этом рассматриваются результаты автоматического извлечения оценок пользователей на соответствующие 
курсы как на русском, так и на английском языках. Кроме того, прослеживается, как соотносится оценка за онлайн-курс, выставляемая 
пользователями по окончании, с эмоциональной оценкой, полученной на основе анализа их отзывов, а также определяется лексика, 
характерная для отзывов разной полярности – положительной и 
отрицательной. Предполагается, что совмещение инструментов позволит в дальнейшем разработать программу для интеллектуального анализа впечатлений пользователей от онлайн-курсов. Это даст 
возможность авторам онлайн-курсов улучшать предлагаемые образовательные продукты, отталкиваясь от эмоциональных оценок, 
извлеченных напрямую из отзывов обучающихся.
Stepik – российская образовательная платформа, предлагающая 
обучающимся онлайн-курсы широкой тематики. При этом важно 
отметить, что автором курса может выступить не только образовательная организация, но и любой пользователь. Несмотря на то, 
что большинство курсов представлено на русском языке, часть публикуется и на английском – для обеспечения инклюзивности иностранных студентов или в соответствии со спецификой самого онлайн-курса (н-р, языковой онлайн-курс «English for law students»). 
По завершении обучения каждому пользователю предлагается оценить онлайн-курс (по шкале от 1 до 5) и оставить отзыв.
Далее будут описаны этапы сентимент-анализа и применяемые 
для этого библиотеки для сформированных выборок отзывов на 
русско- и англоязычные онлайн-курсы соответственно. Очевидно, 
что пользовательские оценки не обязательно будут совпадать с сентимент-оценкой, извлекаемой на основе отзывов, однако выдвигается предположение о том, что количественная и «текстовая» оценки 
пользователей обладают определенной согласованностью.
Объем исследуемой выборки на русском языке составляет 5994 
отзыва, соответствующих 7 онлайн-курсам разной тематики – от 
введения в программирование до подготовки к ЕГЭ по русскому 
языку. Отметим, что вместе с текстами отзывов выгружается также и информация об оценках, оставленных пользователями онлайн-курсу в целом. Критерии отбора онлайн-курсов для исследования были следующие: 1) на курс должно быть оставлено более 
400 отзывов; 2) курсы различаются между собой средней оценкой, 
т.е. обеспечивается наличие в выборке как положительных, как и 
отрицательных оценок (рис. 1). 
Тональность собранных текстов определялась с помощью двух 
подходов: подхода на основе словарей и подхода на основе машинного обучения. Первый предполагает использование эмоционально-размеченных словарей, присваивающих лексемам в тексте (при условии, что они совпадают с лексемами из словаря) или определённое числовое значение в рамках некоторого диапазона (например, 
от -1 до 1), или значение, указывающее на принадлежность к классу 
(«позитивный», «негативный» и др.). Количество и типы классов 
определяются составителями словарей. Второй подход – на основе 
машинного обучения – заключается в применении модели, предобученной на выборке размеченных текстов, к новым данным, либо 
обучении кастомного классификатора. 
Для реализации подхода на основе словарей тексты отзывов 
были предобработаны: из них удалялись знаки препинания, цифры 
и лишние пробелы; все текстовые символы были приведены к нижнему регистру. Затем с помощью mystem (https://yandex.ru/dev/
mystem) была проведена лемматизация – автоматическое приведение словоформы к её начальной форме. Далее из текстов были удалены стоп-слова – служебные части речи и прочие, не являющиеся 
информативными лексемы. После, к датафрейму был применён готовый словарь эмотивной лексики «КартаСловСент» [5]. Значения 
эмоциональной оценки в нём находятся в непрерывном диапазоне 
от -1 до 1, где -1 – максимально отрицательная полярность, а 1 – максимально положительная. В результате для каждого отзыва было 
получено среднее значение эмоциональной оценки, а также были 
выявлены самые частотные отрицательные и положительные слова.
В рамках второго подхода – на основе машинного обучения – было решено воспользоваться готовой моделью dostoevsky
(https://github.com/bureaucratic-labs/dostoevsky), предобученной 
на крупнейшем для русского языка наборе данных для эмотивной 
разметки RuSentiment (https://text-machine.cs.uml.edu/projects/
rusentiment/). Модель позволяет предсказать тональность текста, 
присваивая ему по каждой полярности (негативная, нейтральная, 
позитивная) значения от 0 до 1. Следует отметить, что при её использовании тексты не требуется предварительно токенизировать и 
лемматизировать. В результате для каждого отзыва была получена 
информация о вероятности принадлежности к классу «положительных» и к классу «отрицательных».
При использовании первого подхода были выявлено, что средние 
значения тональности во многом соотносятся со средними оценками 
за курсы (рис. 2). Так, у курсов «Подготовка к ЕГЭ…» и «Введение 
в программирование С++» наивысший средний балл и наивысшая 
средняя тональность, т.е. на отзывы приходится большее количество 
позитивных слов. В то время как для курсов «Введение в базы данных» и «Тестирование ПО…» была получена самая низкая средняя 
тональность, что также коррелирует со усредненной оценкой за курс, 
выставляемой пользователя. Однако есть и несоответствия в пользовательских и тональных оценках: для онлайн-курса «Java. Базовый 
курс» тональная оценка оказалась выше средней пользовательской. 
Что касается языковых особенностей рассматриваемых текстов, 
для самых положительных (88 отзывов) отмечается небольшая длина – в среднем от 2 до 5 слов. То же верно и для самых отрицательных отзывов, и, в целом, они малоинформативны с точки зрения 
критики конкретных тем или заданий курса, собственно вызвавших 
негативную оценку обучающихся. Примеры самых положительных 
и самых отрицательных отзывов представлены в табл. 1. 
Однако если обратить внимание на менее однозначные случаи, 
то можно обнаружить в текстах с отрицательной полярностью указания на некоторые недостатки рассматриваемых онлайн-курсов: 
1. местами задания нудные и неудобные и побольше бы практики
с кодом («JavaScript для начинающих», -0.495)
2. худший курс на степике очень непонятный и плохой («JavaScript 
для начинающих», -0.424)
В результате применения библиотеки dostoevsky, реализующей 
подход на основе машинного обучения, было также выявлено, что 
средняя негативная тональность соотносится со средним баллом: 
чем ниже средний балл, тем выше значение негативной тональности. 
В целом, тенденция для каждого онлайн-курса сохраняется подобно выявленной в рамках описанного выше эксперимента (рис. 3). 
Причём точно так же, как и в предыдущем подходе, разница между 
средними значениями курсов «Введение в базы данных» и «Подготовка к ЕГЭ по русскому» составляет около 0.1.
Распределение средней положительной тональности тоже соотносится со средними баллами (рис. 4). Интересно, что тональность 
курса, посвящённого программированию на С++ немного выше, 
чем у курса «Подготовка к ЕГЭ по русскому», хотя при этом значение негативной тональности у него тоже выше. Предположительно это можно объяснить тем, что, несмотря на высокий средний балл, 
в отзывах на этот курс чаще встречаются различные замечания, а 
также оценки ниже 3. Положительная тональность курсов по Java и 
Python ожидаемо выше, чем для JavaScript Большинство положительных отзывов содержат от 1 до 3 слов 
(например, супер, отличный курс, мне все понравилось), в связи с чем 
их трудно назвать информативными. Поэтому для подробного рассмотрения были отобраны наиболее положительные отзывы с 5 и 
более словами (табл. 2). Ожидаемо, в них встречается яркая оценочная лексика, например: как прекрасно, в восторге, замечательный, 
отличный, чудесный. 
Что касается негативных отзывов, интересно, что среди них оказались и те, которым автор отзыва поставил общую оценку, равную 
4 или 5. Обратив внимание на такие отзывы, можно заметить, что 
они действительно содержат замечания относительно устройства 
курса (табл. 3).
Таким образом, оба инструмента позволили проанализировать 
отзывы с точки зрения их эмоциональности. Однако заметно, что 
библиотека dostoevsky позволяет лучше распознавать негативные 
сентименты, даже в положительных отзывах, и, следовательно, более точно выявлять замечания студентов. 
Для анализа были выбраны отзывы на англоязычные онлайн-курсы, опубликованные на платформе Stepik. В результате 
было выгружено 2080 отзывов к 96 онлайн-курсам разной тематики. Несколько на то, что курс находится в категории англоязычных, 
любой пользователь может его пройти, а также оставить отзыв на 
родном языке. В этой связи дополнительно проверялся язык отзыва и оставлялись только те, которые действительно были на английском, согласно метаинформации о переводе (встроенная функция 
на платформе Stepik). Так, если перевод для отзыва присутствовал, 
то отзыв был не на английском и, следовательно, он удалялся из 
выборки. Итоговый объем выборки составил – 1739 отзывов. Распределение отзывов по оценкам в анализируемой выборке представлено на рис. 5.
В эксперименте применяются такие библиотеки для анализа 
тональности, как TextBlob (https://pypi.org/project/textblob) и 
VADER (https://pypi.org/project/vaderSentiment). Выбор обусловлен тем, что данные инструменты являются примерами реализации 
подходов на основе правил, отличающихся большей точностью при 
анализе текстов, содержащих специфическую лексику, а также недостаточным на данном этапе количеством отзывов для обучения 
кастомного классификатора. Кроме того, эти библиотеки пользуются популярностью среди современных NLP-технологий, применяющихся для анализа тональности.
TextBlob – библиотека с открытым кодом, представляющая собой API для решения широкого спектра задач в области обработки 
естественного языка [7]. Извлекаемая данной библиотекой тональная оценка – полярность – характеризует собственно эмоциональность текста и может принимать значения в промежутке от -1 до +1, 
где тексты с отрицательными полярностями считаются содержащими отрицательные мнения, а с положительными – положительные. 
Если полярность равна 0, то его можно считать нейтральным. Однако важно уточнить, что присвоение нулевого значения может быть 
обусловлено тем, что значительное количество слов в анализируемом фрагменте не было обнаружено в словаре. 
При взвешивании слов используется лексикон, содержащий список оценочных прилагательных на английском языке; он доступен в 
репозитории на GitHub (https://github.com/sloria/TextBlob/blob/
dev/textblob/en/en-sentiment.xml). Как видно из примера ниже, каждому слову соответствует оценка полярности в зависимости от его 
значения:
<word form=”amazing” sense=”inspiring awe or admiration or 
wonder” polarity=”0.8” intensity=”1.0” confidence=”0.9” />
В качестве модификаторов для английского используются наречия (например, very). Подобные слова с учетом присвоенного им в 
словаре значения интенсивности, как правило, увеличивают оценку 
полярности. При взвешивании сентимент-оценки, правила, регулирующие работу этого модуля библиотеки, учитывают также и отрицательные частицы, которые понижают сентимент.
VADER (Valence Aware Dictionary for sEntiment Reasoning) – библиотека с открытым кодом, разработанная для анализа тональности 
текстов социальных медиа [3]. Он, как и TextBlob, сочетает использование лексикона и правил для вывода сентимент-оценки. При этом 
словарь содержит не только собственно слова, но и обширный лист 
эмотиконов в западном стиле и акронимов, а также сленговые выражения. В результате применения библиотеки извлекается следующая информация о тексте: compound – непосредственно тональная 
оценка; pos, neu, neg – пропорции текста, относящиеся к соответствующим категориям. Тональная оценка принимает значения в диапазоне от -1 до +1. Чем выше тональная оценка, тем более положителен 
текст, и наоборот. Обычно используются следующие пороговые значения для отнесения текста к одной из трех категорий:
1. если compound score >= 0.05, то текст положителен;
2. если compound <= -0.05, то текст негативен;
3. в остальных случаях оценка интерпретируется как нейтральная. 
Как и TextBlob, VADER учитывает отрицания и усиливающие 
сентимент модификаторы. Помимо этого, такие неконвенциональные случаи, как обильное использование пунктуационных знаков 
и намеренное изменение регистра, воспринимаются анализатором 
как «сигналы» для повышения сентимента в положительную или 
отрицательную сторону в зависимости от контекста.
К каждому отзыву применялись библиотеки TextBlob и VADER. 
На рис. 6 представлено распределение по пользовательским оценкам 
средних сентимент-оценок каждой из библиотек. Можно заметить, 
что для скорее негативных, т.е. меньше 3, пользовательских оценок 
результаты «положительнее», по сравнению с VADER, демонстрирует TextBlob. Это соотносится с наблюдениями, сделанными эмпирическим путем. Примечательно, что отзывы тех пользователей, 
которые впоследствии поставили онлайн-курсу оценку 2, TextBlob 
выставил нейтральную оценку (polarity=0).
При сравнении отзывов, классифицированных библиотеками 
TextBlob и VADER как самые положительные и самые отрицательные, можно заметить, что длина отзывов значительно разнится: 
TextBlob присваивает тональную оценку безотносительно характера полярности, как правило, более коротким отзывам (табл. 4). 
Вероятно, это связано с тем, что в основе TextBlob лежит более распространенный словарь и список правил для определения тональности текста.
Далее, если обратить внимание на отрицательные отзывы, можно также увидеть, что VADER не только справляется с более распространенными отзывами, но и лучше улавливает контексты с 
отрицанием. Помимо этого, VADER чувствителен к эмотиконам и 
эмодзи, часто встречающимся в подобных текстах (табл. 5). 
Что касается зависимости тональных оценок от пользовательских, то она присутствует и более выражена для VADER (рис. 7). 
Обнаруженная предпочтительность VADER перед TextBlob для 
анализа текстов, которым свойственна неформальная лексика, эмотиконы и др., а также имеющим ненормированный объем, коррелирует с наблюдениями, сделанными в [10, 14].
В статье описывается серия экспериментов, направленных на 
сравнение ряда существующих инструментов для анализа тональности применительно к отзывам на онлайн-курсы на русском и английском языках. В качестве материала используются публичные 
отзывы, размещенные на платформе Stepik. Для русскоязычных текстов обсуждается применение словаря эмотивной лексики «КартаСловСент» и предобученной на датасете RuSentiment модели, реализованной в библиотеке dostoevsky. Для отзывов на английском языке 
апробируются такие популярные NLP-библиотеки, как TextBlob и 
VADER. Кроме того, на каждом этапе сравниваются полученные на 
основе анализа отзывов тональные оценки – положительные и негативные, с соответствующими им количественным оценками (от 1 
до 5), выставленных авторами тех же отзывов по завершении курса.
Что касается полученных результатов, для русскоязычного материала отмечается, что в рамках подхода на основе словарей особенно удобными кажутся специальные словари. Они лучше адаптированы 
под контекст и могут выдавать более точные результаты, однако 
для их создания необходима предварительная классификация текстов. Более распространены универсальные словари, которые могут 
применяться к текстам, не имеющим никакой системы оценивания 
(например, комментарии к новостной записи) и получать довольно 
точные результаты. Однако если интерес представляют негативные 
сентименты, то, как было выявлено в ходе эксперимента, более точный результат позволяет получить использование предобученной 
модели (тестируется библиотека dostoevsky). Применив ее, удалось 
обнаружить негативные сентименты в отзывах с положительными 
оценками, что особенно важно при анализе отзывов обучающихся 
на онлайн-платформах. Тем не менее и этой модели свойственно 
ошибаться или присваивать более высокие негативные значения 
текстам, которые хоть и содержат критику, но являются скорее 
сдержанными, чем экспрессивными. 
В отношении англоязычных отзывов наблюдается преимущество библиотеки VADER над библиотекой TextBlob. VADER хорошо улавливает негативные контексты, «смешанные» отзывы, 
а также похожие на тексты социальных медиа – изобилующие эмотиконами и неформальной лексикой. 
Вне зависимости от языка, обнаруживается корреляция между 
пользовательскими оценками и тональными оценками. При этом, 
как правило, более высоко оценённые курсы имеют более высокую 
среднюю позитивную тональность, и наоборот. Это свидетельствует об определённой эффективности и надёжности использованных 
подходов. Продолжение работы видится в разработке проблемы 
выбора оптимального порогового значения для классификации отзывов на позитивные и негативные. Предполагается, что выявление 
условий, наиболее коррелирующих с количественными оценками, 
может способствовать улучшению результатов. 
